{% extends 'base.html' %}
{% set now =  'now' %}

{% block title %}Proyek - Portofolio Eka Saputra{% endblock %}
{% block meta_description %}Lihat koleksi proyek-proyek terbaru yang dikerjakan oleh Eka Saputra, menampilkan keahlian di berbagai teknologi web.{% endblock %}

{% block og_title %}Proyek Unggulan - Portofolio Eka Saputra{% endblock %}
{% block og_description %}Jelajahi studi kasus dan demo proyek pengembangan web dari Eka Saputra.{% endblock %}
{% block og_type %}article{% endblock %}
{% block og_image %}https://res.cloudinary.com/dzsqaauqn/image/upload/v1754725919/eka_logo_gemini_cvikyu.jpg{% endblock %}

{% block content %}
<section class="uk-section animate-fade-in">
    <div class="uk-container">
        <h1 class="uk-heading-medium uk-text-center uk-margin-large-bottom">Proyek-Proyek Saya</h1>
        <p class="uk-text-center uk-text-lead uk-margin-medium-bottom">Jelajahi beberapa proyek terbaru yang telah saya kerjakan. Setiap proyek mencerminkan keterampilan dan passion saya dalam pengembangan web.</p>

        {% if projects %}
        <div class="uk-child-width-1-1 uk-child-width-1-2@s uk-child-width-1-3@m uk-grid-match" uk-grid>
            {% for project in projects %}
            <div class="animate-fade-in uk-animation-slide-bottom-small">
                <div class="uk-card uk-card-default uk-card-hover uk-box-shadow-small uk-border-rounded">
                    <div class="uk-card-media-top uk-cover-container" style="height: 220px;">
                        <a href="{{ url_for('project_detail', project_id=project._id) }}">
                            <img src="{{ project.image_url if project.image_url else url_for('static', filename='img/default-project-image.jpg') }}" alt="{{ project.title }}" uk-cover>
                        </a>
                        <canvas width="600" height="300"></canvas>
                    </div>
                    <div class="uk-card-body">
                        <h3 class="uk-card-title uk-margin-small-bottom">{{ project.title }}</h3>
                        <p class="uk-text-small uk-text-truncate" style="height: 60px; overflow: hidden;">{{ project.description }}</p>
                        <div class="uk-margin-small-top">
                            {% for tech in project.technologies %}
                            <span class="uk-label uk-label-success uk-margin-small-right uk-margin-small-bottom">{{ tech }}</span>
                            {% endfor %}
                        </div>
                        <div class="uk-card-footer uk-margin-top uk-padding-remove-horizontal uk-padding-remove-bottom">
                            <div class="uk-grid-small" uk-grid>
                                <div class="uk-width-expand">
                                    <a href="{{ project.project_url }}" target="_blank" class="uk-button uk-button-text uk-text-primary"><span class="fas fa-external-link-alt uk-margin-small-right"></span>Lihat Proyek</a>
                                </div>
                                {% if project.github_url %}
                                <div class="uk-width-auto">
                                    <a href="{{ project.github_url }}" target="_blank" class="uk-button uk-button-text uk-muted"><span class="fab fa-github uk-margin-small-right"></span>GitHub</a>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="uk-alert-warning" uk-alert>
            <p>Belum ada proyek yang ditambahkan. Mohon tunggu, atau hubungi admin.</p>
        </div>
        {% endif %}
    </div>
</section>
{% endblock %}